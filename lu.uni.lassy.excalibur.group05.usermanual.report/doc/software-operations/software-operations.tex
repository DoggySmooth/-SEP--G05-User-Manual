\chapter{Software operations}
\label{chap:soptware_operations}


This chapter explains each allowed software operations (i.e. an atomic
unit of treatment, a service, a functionality) including a brief description of 
the operation, required parameters, optional parameters, default options, 
required steps to trigger the operation, assumptions upon request of the
operation  and expected results of executing such operation.
It describes how to recognise that the operation has successfully been executed
or abnormally terminated. 

\section{Login}
\label{operation:Login}
The coordinator, administrator, leaders or anyone working in the medical
department or authorities who wants to access the applications.\\
\begin{description}
\item \textbf{Parameters:} User Information, User Password
\item \textbf{Precondition:} The user has the application open and has already
his credentials.
\item \textbf{Post-condition:}  The user enters the homescreen with access to
his individual information and functions.
\item \textbf{Output messages:} 'Login successfully'
\item \textbf{Triggering:}
\begin{enumerate}
\item After opening the application the user has two textfields for account and
password.
\item The user enters his account and his password.
\item Click on the 'Login' button and the user will be linked to the homescreen.
\end{enumerate}
\end{description}

\section{Logout}
\label{operation:Logout}
The coordinator, administrator, leaders or anyone working in the medical
department or authorities who wants to quit the applications.\\
\begin{description}
\item \textbf{Parameters:} User Information, User Password
\item \textbf{Precondition:} The user is already logged in.
\item \textbf{Post-condition:}  The user can't no longer access to his personal
functions proposed by SHeavy.
\item \textbf{Output messages:} 'Logout successfully'
\item \textbf{Triggering:}
\begin{enumerate}
\item The user is logged in.
\item The user clicks on 'Logout' at the corner of the application.
\item The user isn't no longer logged in.
\end{enumerate}
\end{description}

\section{Insertion Into Database}
\label{operation:AddUser}
In request of the coordinator, the Administrator adds a person as a common user or a professional user 
to the system, allowing them to use the specific operation each type of user has.\\
\begin{description}
\item \textbf{Parameters:} Personal Information, User Information, Coordinator Request
\item \textbf{Precondition:} The crisis didn't has started and the administrator
is logged in. Furthermore, the person who the administrator is going to add
don't has an existing account.
\item \textbf{Post-condition:} The selected user gains access to the specific feature of the system each type of user has.
\item \textbf{Output messages:} The user has been added to the system.
\item \textbf{Triggering:}
\begin{enumerate}
\item The administrator clicks on 'Add User' that opens the Add-User-Interface.
\item The administrator fills in the Personal Information: Title, First Name, Last Name, Phone Number, E-mail.
\item The administrator fills in the requested type of professional from the following: Common User, Medical Department, Authorities and Coordinator.
\item The administrator selects his subtype for the Medical Department and Authorities but not for the Common user and Coordinator.
\item The administrator enters the Users Team.
\item Finally, the administrator clicks on 'Add User'.
\end{enumerate}
\end{description}

\section{Trigger Alert}
\label{operation:TriggerAlert}
The Medical Departement creates an alert message for an epidemic, including a
report of what happened and what should be done as a reaction of that epidemic.
He's sending it to the Coordinator who will read it and confirm the alert
state.\\
\begin{description}
\item \textbf{Parameters:} Alert Information, User and State Information
\item \textbf{Precondition:} The user is logged in as professional user such as
Medical Departement.
\item \textbf{Post-condition:}  The alert was successfully sent and the
Coordinator was notified about the alert.
\item \textbf{Output messages:} 'Alert sent'.
\item \textbf{Triggering:}
\begin{enumerate}
\item In the alert message window, the professional user fills out the alert
information: the title and the description text-fields.
\item The message has to have an report as well as indicating the state of the
alert if needed.
\item Click on the 'Send' button and the Coordinator will be notified of the
epidemic.
\end{enumerate}
\end{description}

\section{Confirm Alert}
\label{operation:ConfirmAlert}
The Coordinator recieves an alert message from the Medical Departement
including a report about the severity of the epidemic. The Coordinator will
read it and will confirm the alert and notify every user about the epidemic.\\
\begin{description}
\item \textbf{Parameters:} Alert Information, User and State Information
\item \textbf{Precondition:} The user is logged in as professional user and
has already read the report.
\item \textbf{Post-condition:} Start of the CMS. The alert is confirmed and
every user is notified about he epidemic.
\item \textbf{Output messages:} 'Epidemic confirmed'.
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator recieves an alert notification on his web-interface. He
has to click on 'Report' to read the report sent by the Medical Departement.
\item According to the Coordinator's decision he'll click on 'Launch Crisis' to
start the crisis, 'Delay Decision' to not decide yet if he needs confirmation of
the governement or 'Decline' if the situaton don't need a crisis
management system.
\end{enumerate}
\end{description}

\section{Delete User}
\label{operation:UpgradeUser}
In request of the coordinator, the Administrator wants to delete a user.\\
\begin{description}
\item \textbf{Parameters:} User name, Coordinator Request
\item \textbf{Precondition:} The administrator has to be on his home screen.
\item \textbf{Post-condition:}  The selected user will be deleted from the
database.
\item \textbf{Output messages:} 'User deleted'
\item \textbf{Triggering:}
\begin{enumerate}
\item The administrator selects or he uses the search to find and select the
requested user.
\item The administrator clicks on 'Delete User' to finish the operation.
\item The user was successfully removed from the database.
\end{enumerate}
\end{description}


\section{Safe Place Finder}
\label{operation:SafePlaceFinder}
Any user requests the safest and fastest way to a certain safe place e.g. hospital,
safe camp. The operation will send him through GPS to the selected place.\\
\begin{description}
\item \textbf{Parameters:} Place Information, Place Location
\item \textbf{Precondition:} The crisis is on going. The user is logged in and
has his GPS enabled.
\item \textbf{Post-condition:}  The fastest way to a certain safe place was
calculated.
\item \textbf{Output messages:} 'Route to the selected safe place is ready.'
\item \textbf{Triggering:}
\begin{enumerate}
\item In the menu the user clicks on 'Safe Place Finder'.
\item A new window shows a list of safe places and the user choses one by 
clicking on the one the user wants to request the route and send the Place Information to SHeavy.
\item SHeavy send back the Place Location which includes the actual location as well as the safest route.
\item The user is lead to the GPS window.
\end{enumerate}
\end{description}

\section{Find Person}
\label{operation:FindPerson}
Any professional user who requests a call to a specific group in a certain
location.Can find them by selecting them in the contact list or using the search
to find the group (medics, fireman, military) by name or location (e.g. hospital/camp name or city they are located).\\
\begin{description}
\item \textbf{Parameters:} Contact Information
\item \textbf{Precondition:} The user is logged in and has to be connected to a
network. The crisis has already started.
\item \textbf{Post-condition:} The application uses call the respective group or person.
\item \textbf{Output messages:} Calling 'ContactX'
\item \textbf{Triggering:}
\begin{enumerate}
\item Open the 'Contacts'-menu.
\item Searchs for the person to call.
\item Click on 'Call' to request a call to the person or group.
\end{enumerate}
\end{description} 

\section{Send Mission Set Camp}
\label{operation:SetCamp}
The Coordinator sends set camp mission to various groups leaders (e.g. fire
figther, military, Doctors,..) with some important information concerning the
mission.\\
\begin{description}
\item \textbf{Parameters:} Contact Information, Mission Information
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started.  
\item \textbf{Post-condition:} The mission is recieved by the concerned leader.
\item \textbf{Output messages:} 'Mission Pending'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Mission-view'.
\item Select one or more teams by selecting a leader in the 'send to' field or
sends to all by clicking on 'Send to All'.
\item Writes the title and select 'Set Camp' as type by clicking on 'Set
Type'.
\item Give the Location of the camp and also announce a deadline in format Date
and time.
\item Furthermore indicates de capacity of the camp and how many teams are
needed there.
\item Fill the description for more details about the mission.
\item Click on the 'Send'-Button to submit the mission.
\end{enumerate}
\end{description}

\section{Send Mission Set Checkpoint}
\label{operation:Checkpoint}
The Coordinator sends set checkpoint mission to various groups leaders (e.g.
fire figther, military, Doctors,..) with some important information concerning the
mission.\\
\begin{description}
\item \textbf{Parameters:} Contact Information, Mission Information
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started. 
\item \textbf{Post-condition:} The mission is recieved by the concerned leader.
\item \textbf{Output messages:} 'Mission Pending'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Mission-view'.
\item Select one or more teams by selecting a leader in the 'send to' field or
sends to all by clicking on 'Send to All'.
\item Writes the title and select 'Set Checkpoint' as type by clicking on 'Set
Type'.
\item Give the Location of the camp and also announce a deadline in format Date
and time.
\item Furthermore indicates how many teams are needed there and where victims
are going to be moved.
\item Fill the description for more details about the mission.
\item Click on the 'Send'-Button to submit the mission.
\end{enumerate}
\end{description} 

\section{Send Mission Transfer}
\label{operation:Transfer}
The Coordinator sends transfer mission to various groups leaders (e.g. fire
figther, military, Doctors,..) with some important information concerning the
mission.\\
\begin{description}
\item \textbf{Parameters:} Contact Information, Mission Information
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started. 
\item \textbf{Post-condition:} The mission is recieved by the concerned leader.
\item \textbf{Output messages:} 'Mission Pending'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Mission-view'.
\item Select one or more teams by selecting a leader in the 'send to' field or
sends to all by clicking on 'Send to All'.
\item Writes the title and select 'Transfer People' as type by clicking on 'Set
Type'.
\item Give the Locations from where to where people are going to be moved.
\item Announce a deadline in format Date and time and how many people are going
to be moved.
\item Click on the 'Send'-Button to submit the mission.
\end{enumerate}
\end{description}

\section{Send Mission Evacuation}
\label{operation:Evacuate}
The Coordinator sends evacuation mission to various groups leaders (e.g. fire
figther, military, Doctors,..) with some important information concerning the
mission.\\
\begin{description}
\item \textbf{Parameters:} Contact Information, Mission Information
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started.  
\item \textbf{Post-condition:} The mission is recieved by the concerned leader.
\item \textbf{Output messages:} 'Mission Pending'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Mission-view'.
\item Select one or more teams by selecting a leader in the 'send to' field or
sends to all by clicking on 'Send to All'.
\item Writes the title and select 'Evacuate' as type by clicking on 'Set
Type'.
\item Give the Locations from where to where people are going to be evacuate.
\item Indicate an estimated number of people to be rescued but can be changed
lately.
\item Click on the 'Send'-Button to submit the mission.
\end{enumerate}
\end{description}

\section{Accept Mission}
\label{operation:AcceptMission}
Each group member can recieve a mission from the Coordinator. But only the
leader can accept the mission or decline if they can't execute it.\\
\begin{description}
\item \textbf{Parameters:} Contact Information, Mission Information
\item \textbf{Precondition:} The user is logged in as a professional user
and recieves the mission notification. The crisis has already started. The
maximum number of team needed in the mission doesn't exceed the demande. And the
Deadline isn't reached.
\item \textbf{Post-condition:} The mission will be executed or sent to another
team.
\item \textbf{Output messages:} The mission is Accepted or Transfer.
\item \textbf{Triggering:}
\begin{enumerate}
\item The team leader recieves a mission.
\item He can click on 'Details' to get further information or decline
immimediately.
\item By clickin ont 'Extras' he get information about other teams present in
the mission zone.
\item He can click on 'Accept' or 'Decline'
\item After accepting the mission he gets a confirmation notification. He can
quit it by clicking on 'OK'.
\end{enumerate}
\end{description}  

\section{Add Zone}
\label{operation:AddZone}
The Coordinator can add new zones to the map. According to that the map will
be updated.\\
\begin{description}
\item \textbf{Parameters:} Epidemic Information, Change State
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started. The zone to add doesn't exists.
\item \textbf{Post-condition:} A new zone was added to the map.
\item \textbf{Output messages:} 'Updated'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Map Editor-view'.
\item He has to click on the 'Add Zone' label to add a new Zone.
\item He has to select a Type of zone by clicking on 'Choose Type'.
\item The Coordinator select the visibility type.
\item Set the area by given an estimation of the height and width in km.
\item At last select the Location where the area will be set.
\item Click on the 'Add Zone'-Button to submit the modifications
on the map.
\end{enumerate}
\end{description} 

\section{Change Zone}
\label{operation:ChangeZone}
The Coordinator can change a zone's propreties in any time. According
to that the map will be updated.\\
\begin{description}
\item \textbf{Parameters:} Epidemic Information, Change State
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started. The relevant zone exists.
\item \textbf{Post-condition:} An existing zone was modified on the map.
\item \textbf{Output messages:} 'Updated'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Map Editor-view'.
\item He has to click on the 'Set Zone' label to change a Zone.
\item At first he has to select the zone by clicking on 'Select a Zone' button
or searches for the name of the zone.
\item He can modify the zone's propreties.
\item Click on the 'Safe Changes' to submit the modifications
on the map or click on 'Cancel Changes' to cancel the modification.
\end{enumerate}
\end{description} 

\section{Delete Zone}
\label{operation:DeleteZone}
The Coordinator can delete a zone in any time. According
to that the map will be updated.\\
\begin{description}
\item \textbf{Parameters:} Epidemic Information, Change State
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started. The Zone exists.
\item \textbf{Post-condition:} An existing zone was deleted on the map.
\item \textbf{Output messages:} 'Updated'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Map Editor-view'.
\item He has to click on the 'Set Zone' label to change a zone.
\item At first he has to select the zone by clicking on 'Select a Zone' button
or searches for the name of the zone.
\item Click on the 'Delete Zone' button to delete the zone or click on the
'Cancel Change' button to quit.
\end{enumerate}
\end{description}   

\section{Alert GPS Zone}
\label{operation:AlertGPSZone}
The System alerts the user if he's entering in a zone such as a dangerous zone
or quarantine zone. The System has to know where the user is. For this
puropose the application sends the GPS location to the system several times.\\
\begin{description}
\item \textbf{Parameters:} GPS Locations, Zones in the Map 
\item \textbf{Precondition:} The user is logged in and the
crisis has already started. The user has his GPS enabled and is operational.
\item \textbf{Post-condition:} The user knows he's nearby a zone and can avoid
it. The applications has sent the user's GPS location to the System.
\item \textbf{Output messages:} 'You are entering in a Danger Zone'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Application sends the GPS Location to the System several times per 5
minutes range.
\item The System knows locally where's the danger zones and so warns the user
whem entering in a Zone.
\item When entering in a Zone a Warning will pop up cand you have the choice to
enable the mute again.
\end{enumerate}
\end{description}   

\section{Forgot Password}
\label{operation:ForgotPassword}
It might be that the a professional user can't remember his credentials
anymore. He has the possibility to get new credentials from the administrator.\\
\begin{description}
\item \textbf{Parameters:}  Email associated to the account
\item \textbf{Precondition:} The user's email is associated with his lost
account.
\item \textbf{Post-condition:} The user gets new credentials in his mail.
\item \textbf{Output messages:} 'Reset credentials was sent by email to your
email.'
\item \textbf{Triggering:}
\begin{enumerate}
\item The professional user has to click on 'Forgot your password?' on the Login
Screen.
\item The professional user has to write his email in the textfield.
\item The professional user clicks on 'Send' to get his new credentials.
\end{enumerate}
\end{description}   

\section{Send Exact Amount of People}
\label{operation:ExactAmount}
The Coordinator sends missions normally with an estimation of people to
evacuate or transfer. After the mission the Team leader who accepted the
mission can send the exact amount of people to the Coordnator\\
\begin{description}
\item \textbf{Parameters:} Amount of People , Type of Mission
\item \textbf{Precondition:} The user is logged in as a professional user. The
crisis has already started. The Team Leader accepted the mission and will
execute it. Afterwards the teamleader send the amount of people to save.
\item \textbf{Post-condition:} The right amount was sent and modified.
\item \textbf{Output messages:} 'Changes submited'
\item \textbf{Triggering:}
\begin{enumerate}
\item The Team Leader has to open the 'Mission-view'.
\item The Team Leader has to select the current mission.
\item The Team Leader can modify the amount of people.
\item The Team Leader has to click on 'Send' to send the right amount to the
Coordinator.
\end{enumerate}
\end{description}   

\section{Get All Zones}
\label{operation:Get All Zones}
The Application retrieves a Collection of zones from the System to get all zones
locally stored.
\begin{description}
\item \textbf{Parameters:} None
\item \textbf{Precondition:} The System needs an internet connection and the
crisis has already started.
\item \textbf{Post-condition:} All zones are represented on the map.
\item \textbf{Output messages:} None
\item \textbf{Triggering:}
\begin{enumerate}
\item The user has to open the 'Map-view'.
\item The Application will retrieve all zones automatically.
\item All Zones are represented in the map.
\end{enumerate}
\end{description}  

\section{See Affected Team to Mission}
\label{operation:TeamToMission}
The Coordinator wants to see which teams are linked with whch mission.
\begin{description}
\item \textbf{Parameters:} Missions
\item \textbf{Precondition:} The user is logged in and the
crisis has already started. There are some mission in going and teams affected
to it.
\item \textbf{Post-condition:} Teams linked with the selected Mission are
shown.
\item \textbf{Output messages:} None
\item \textbf{Triggering:}
\begin{enumerate}
\item The Coordinator opens the 'Overview-screen'.
\item The Coordinator clicks on 'Mission'.
\item A list with all relevant information will appear next the map.
\end{enumerate}
\end{description}  





